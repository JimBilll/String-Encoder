<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gödel Word Encoder</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <py-config>
        [[fetch]]
        files = ["/frontend.py", "/encoder.py"]
    </py-config>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h1>Gödel Word Encoder</h1>
    <h3>By <a href="https://www2.macs.hw.ac.uk/~jm2022/" target="_blank">James McLean</a></h3>
    <div id="inputArea">
        <div>
            <textarea name="text input" id="textField" oninput="this.value = this.value.toUpperCase()" cols="15" rows="1" maxlength="10" placeholder="Word..."></textarea>
            <button py-click="encodeText()" id="encodeButton" class="py-button">encode</button>
        </div>
        <div>
            <textarea name="code input" id="codeField" oninput="this.value = this.value.toUpperCase()" cols="15" rows="1" wrap = "off" placeholder="Code..."></textarea>
            <button py-click="decodeText()" id="decodeButton" class="py-button">decode</button>
        </div>
    </div>
    <div id="outputArea"></div>
    <br><br>
    <py-script>
        import js
        import frontend
        outArea = Element("outputArea")
        def encodeText():
            if (Element("textField").value != ''):
                text = Element("textField").value
                outArea.element.innerHTML = frontend.readText(text)
        def decodeText():
            if (Element("codeField").value != ''):
                text = Element("codeField").value
                outArea.element.innerHTML = frontend.readCode(text)
    </py-script>
    <footer id="footer">
        <p>Note: If you try to decode a random Godel number there's a good chance it will not decode correctly. Many numbers you may try require primes much higher than are generated. Only so many primes are generated for the sake of program efficiency. However, any number encoded by the program should work.<p>
    </footer>
</body>
</html>